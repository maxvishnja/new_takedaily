.flow-promise-icon
	vertical-align: middle
	float: left
	margin: 6px 8px 6px 0
	display: inline-block
	width: 34px
	height: 34px

.flow-promise-text
	min-height: 34px
	padding-top: 17px

.removePillButton
	font-size: 12px
	color: #666

body.page-flow
	height: 100%

	header.header--with-bg
		z-index: 2

	.ingredient_item
		margin-bottom: 15px
		padding: 15px 0
		border-bottom: 1px solid #ddd
		position: relative
		cursor: pointer

		ul
			list-style: inherit
			padding: 0 0 0 25px

		.icon
			position: absolute
			top: 0
			right: 0
			transition: transform 300ms

		&.opened
			.icon
				transform: rotate(180deg)

		&:last-child
			border: none

		h3
			margin: 0 0 10px

		.table_container
			display: none

		table
			th,
			td
				padding: 4px 0


	.datepicker-decades:before,
	.datepicker-years:before,
	.datepicker-months:before,
	.datepicker-days:before
		margin-bottom: 5px
		padding-bottom: 5px
		border-bottom: 1px solid #eee
		font-size: 16px
		display: block
		text-align: center

	.flow-helper
		position: absolute
		right: 10px
		top: 10px
		text-align: center
		z-index: 7

		.flow-helper_button
			background: #fafafa
			border: 1px solid #eee
			border-radius: 2px
			padding: 8px 14px
			display: inline-block
			margin-right: 10px

			&:hover
				text-decoration: none
				background: #f7f7f7
				border-color: #ccc

			&:last-child
				margin-right: 0

	#advises-block a
		color: $main-green-dark
		text-decoration: underline

	.datepicker-container-block
		display: inline-block

	.more-info-link
		display: block
		margin-top: 10px
		font-size: 12px
		color: #777
		font-weight: normal

	.flow-container

		h3.substep-title
			font-weight: normal
			font-size: 26px
			color: $main-green-dark
			//color: $greyish-brown
			margin: 20px 0 30px

		p.substep-explanation
			font-weight: normal
			font-size: 13px
			line-height: 2
			//color: $warm-grey
			color: $main-green-dark
			margin: 30px 0 0

		.step
			display: none
			position: relative
			min-height: 50vh
			overflow: hidden

			&.step--active
				display: block

			.sub_step
				position: absolute
				text-align: center
				background: #fff
				border-radius: 4px
				width: 80%
				left: 10%
				transform: translateX(100%)
				opacity: 0
				visibility: hidden
				animation-fill-mode: both
				animation-duration: 200ms

				&.sub_step--active
					transform: translateX(0) scale(1)
					opacity: 1
					visibility: visible

				&.sub_step--skip
					display: none !important

				&.sub_step--active-animated
					animation-name: step_slideIn

				&.sub_step--prev
					animation-name: step_slideInPrev

				&.sub_step--out-animated
					animation-name: step_slideOut

				&.sub_step--slideout-prev
					animation-name: step_slideOutPrev

			label:not(.regular-label)
				vertical-align: middle
				position: relative
				cursor: pointer
				padding: 15px
				background: #fff
				color: $main-green-dark
				border-radius: 4px
				display: inline-block
				margin-right: 10px
				margin-bottom: 10px
				font-weight: 600
				min-width: 110px
				border: 1px solid #ddd
				box-shadow: 0 2px 10px 0 rgba(0, 0, 0, 0.08), 0 1px 4px 0 rgba(0, 0, 0, 0.08)
				user-select: none

				.icon
					margin-bottom: 10px

				&:last-of-type
					margin-right: 0

				&.flow_label_noclick
					.icon
						margin: 0

				&:hover
					background: #f9f9f9
					border: 1px solid #ccc

				input[type="radio"]
					display: none

	table.order_table
		width: 100%
		tbody tr
			td
				color: $main-green-dark
				font-size: 16px
				padding: 20px 0
				border-bottom: 1px solid #dddddd
				&:last-child
					text-align: right
					font-weight: 600
					color: $main-green-dark
			&.row--total
				font-weight: 600
				td
					border-bottom: 3px double #dddddd
					font-size: 20px

	.tabs
		.options
			.tab
				display: inline-block
				padding: 18px
				border: 1px solid #e5e5e5
				border-bottom: none
				font-size: 16px
				cursor: pointer
				color: #888
				background: #f5f5f5
				float: left
				margin-right: -1px
				margin-bottom: -1px
				position: relative
				z-index: 3

				&:hover
					background: #eee
					border-color: #ddd
					color: #666

				&.tab--active
					background: #fff
					border-color: #ccc
					color: #333
					z-index: 5

		.tab-block
			position: relative
			z-index: 4
			border: 1px solid #ccc
			display: none
			padding: 20px

			&.tab-block--active
				display: block

	.flow-step-back
		margin: 20px 0

		a
			opacity: 0
			cursor: not-allowed
			padding: 10px
			display: inline-block
			color: #777

		&.clickable
			a
				opacity: 1
				cursor: pointer

	.flow-progress
		text-align: center
		background: $pale-grey
		//border-top: 1px solid $pale-grey-border
		border-bottom: 1px solid $pale-grey-border
		font-size: 0

		.hamburger
			display: none

		.flow-step
			background: $white
			height: 66px
			padding: 27px 50px 23px
			display: inline-block
			position: relative
			z-index: 0
			text-align: center
			border-right: 1px solid $pale-grey-border

			&:first-of-type
				border-left: 1px solid $pale-grey-border

			.flow-step-check
				display: none

			.flow-step-progress
				margin-right: 12px
				height: 3px
				display: inline-block
				vertical-align: middle
				position: absolute
				bottom: 0
				left: 0
				width: 100%
				background: $lighter-grey
				transition: width 300ms

				.flow-step-progress-bar
					background: $main-green
					height: 3px
					width: 0
					display: block
					transition: width 300ms

			.flow-step-title
				display: inline-block
				vertical-align: middle
				font-weight: 600
				font-size: 14px
				letter-spacing: 1px
				color: $warm-grey

			&.flow-step--inactive
				background: transparent

				.flow-step-progress
					display: none

					.flow-step-progress-bar
						display: none

				.flow-step-title
					color: $greyish

			&.flow-step--completed
				background: #fff
				background: linear-gradient(to right, transparent 33%, rgba($main-green, .4) 50%, #fff 66%)
				background-size: 300% 100%
				animation-name: flow_step_success
				animation-duration: 500ms
				animation-iteration-count: 1

				.flow-step-title
					color: $warm-grey

				.flow-step-progress
					display: none

				.flow-step-check
					margin-right: 12px
					display: inline-block
					position: relative
	.link-button
		display: inline-block
		-webkit-appearance: none
		border: none
		background: transparent
		padding: 0
		font-size: 13px
		color: #777

		&:hover
			text-decoration: underline

@keyframes flow_step_success
	0%
		background-position: right bottom

	100%
		background-position: left bottom

@keyframes step_slideOut
	0%
		transform: translateX(0) scale(1)
		opacity: 1

	100%
		transform: translateX(-100%) scale(0.8)
		opacity: 0
		filter: blur(10px)

@keyframes step_slideOutPrev
	0%
		transform: translateX(0) scale(1)
		opacity: 1

	100%
		transform: translateX(100%) scale(0.8)
		opacity: 0
		filter: blur(10px)

@keyframes step_slideIn
	0%
		transform: translateX(100%) scale(0.8)
		opacity: 0
		filter: blur(10px)

	100%
		transform: translateX(0) scale(1)
		opacity: 1

@keyframes step_slideInPrev
	0%
		transform: translateX(-100%) scale(0.8)
		opacity: 0
		filter: blur(10px)

	100%
		transform: translateX(0) scale(1)
		opacity: 1

@media all and (max-width: 991px)
	body.page-flow
		header.header--with-bg
			z-index: 1

		.flow-helper
			position: fixed
			bottom: 17px
			right: 80px
			top: auto

			.flow-helper_button
				&.flow-helper_button--mobile
					border-radius: 100%
					width: 50px
					height: 50px
					box-shadow: 0 4px 5px -1px rgba(0, 0, 0, 0.5)
					background: #fff
					border: none

		footer
			.footer_column--newsletters
				display: none

		.datepicker-container-block
			display: block

		div.datepicker.datepicker-dropdown.dropdown-menu
			position: fixed
			bottom: 0 !important
			top: auto !important
			left: 0 !important
			width: 100% !important
			box-sizing: border-box
			min-width: 0 !important
			border-radius: 0
			border-bottom: none
			border-left: none
			border-right: none
			box-shadow: 0 -6px 12px rgba(0, 0, 0, 0.175)
			padding-bottom: 104px

		.flow-progress
			border-bottom: none !important
			border-top: 1px solid $pale-grey-border
			position: relative
			z-index: 2

			#flow-toggler
				padding: 15px
				position: absolute
				right: 15px
				top: 12px
				z-index: 2
				cursor: pointer
				border-radius: 4px
				user-select: none

				&:hover
					background: #eee

				&.toggled
					.icon-arrow-down-lines
						transform: rotate(180deg)

				.icon-arrow-down-lines
					display: inline-block

			.flow-step
				width: 100%
				overflow: hidden
				display: block
				padding: 25px 15px
				border-right: none !important
				border-left: none !important
				border-bottom: 1px solid $pale-grey-border
				text-align: left
				-webkit-transition: height 200ms, padding 200ms, border 200ms, font-size 200ms
				transition: height 200ms, padding 200ms, border 200ms, font-size 200ms

				&.flow-step--inactive
					.flow-step-progress
						display: none

			&.flow-progress--closed
				.flow-step
					&.flow-step--inactive
						height: 0
						padding-top: 0
						padding-bottom: 0
						font-size: 0
						border: none

		.flow-container
			.h3.substep-title
				font-size: 20px
				margin-top: 0
				line-height: 1.4

			.step
				min-height: 60vh

				.sub_step
					width: 100%
					left: 0

					.sub_step_answers
						-webkit-overflow-scrolling: touch
						overflow: visible
						overflow-x: scroll
						padding: 10px
						white-space: nowrap

						label
							min-width: 40%